# ====================================
# COMMUNICATION SERVICE ENVIRONMENT VARIABLES
# ====================================
# Copy this file to .env and fill in your actual values
# Never commit .env files to version control

# ====================================
# SERVICE CONFIGURATION
# ====================================
SERVICE_NAME=communication-service
SERVICE_HOST=localhost
SERVICE_PORT=8003
ENVIRONMENT=development
DEBUG=true

# ====================================
# DATABASE CONFIGURATION
# ====================================
DATABASE_URL=postgresql://comm_user:comm_pass@localhost:5435/communication_service
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=30

# ====================================
# REDIS CONFIGURATION
# ====================================
REDIS_URL=redis://localhost:6382/0
REDIS_CACHE_TTL=3600

# ====================================
# CELERY CONFIGURATION
# ====================================
CELERY_BROKER_URL=redis://localhost:6382/1
CELERY_RESULT_BACKEND=redis://localhost:6382/2
CELERY_TASK_SERIALIZER=json
CELERY_RESULT_SERIALIZER=json
CELERY_ACCEPT_CONTENT=json
CELERY_TIMEZONE=UTC
CELERY_ENABLE_UTC=true

# ====================================
# EMAIL CONFIGURATION
# ====================================
EMAIL_PROVIDER=sendgrid
DEFAULT_FROM_EMAIL=noreply@yourdomain.com
DEFAULT_FROM_NAME=Your App Name

# SendGrid Configuration
SENDGRID_API_KEY=your-sendgrid-api-key-here

# Mailgun Configuration
MAILGUN_API_KEY=your-mailgun-api-key-here
MAILGUN_DOMAIN=your-mailgun-domain.com
MAILGUN_BASE_URL=https://api.mailgun.net/v3

# SMTP Configuration (fallback)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your-smtp-username
SMTP_PASSWORD=your-smtp-password
SMTP_USE_TLS=true

# ====================================
# SMS CONFIGURATION
# ====================================
SMS_PROVIDER=twilio
DEFAULT_SMS_FROM=+1234567890

# Twilio Configuration
TWILIO_ACCOUNT_SID=your-twilio-account-sid
TWILIO_AUTH_TOKEN=your-twilio-auth-token
TWILIO_PHONE_NUMBER=+1234567890

# OVH Configuration
OVH_ENDPOINT=ovh-eu
OVH_APPLICATION_KEY=your-ovh-application-key
OVH_APPLICATION_SECRET=your-ovh-application-secret
OVH_CONSUMER_KEY=your-ovh-consumer-key
OVH_SMS_ACCOUNT=sms-account-name

# ====================================
# PUSH NOTIFICATIONS CONFIGURATION
# ====================================
# Firebase Configuration
FIREBASE_PROJECT_ID=your-firebase-project-id
FIREBASE_PRIVATE_KEY_ID=your-firebase-private-key-id
FIREBASE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\nYOUR_PRIVATE_KEY_HERE\n-----END PRIVATE KEY-----"
FIREBASE_CLIENT_EMAIL=firebase-adminsdk-xxxxx@your-project.iam.gserviceaccount.com
FIREBASE_CLIENT_ID=your-firebase-client-id
FIREBASE_AUTH_URI=https://accounts.google.com/o/oauth2/auth
FIREBASE_TOKEN_URI=https://oauth2.googleapis.com/token

# Web Push (VAPID) Configuration
VAPID_PUBLIC_KEY=your-vapid-public-key
VAPID_PRIVATE_KEY=your-vapid-private-key
VAPID_SUBJECT=mailto:admin@yourdomain.com

# ====================================
# IDENTITY SERVICE INTEGRATION
# ====================================
IDENTITY_SERVICE_URL=http://localhost:8001
IDENTITY_SERVICE_TIMEOUT=30
IDENTITY_SERVICE_RETRY_COUNT=3

# ====================================
# RATE LIMITING
# ====================================
EMAIL_RATE_LIMIT=100  # emails per minute
SMS_RATE_LIMIT=50     # SMS per minute
PUSH_RATE_LIMIT=1000  # push notifications per minute

# ====================================
# TEMPLATE CONFIGURATION
# ====================================
TEMPLATE_CACHE_TTL=1800  # 30 minutes
DEFAULT_LANGUAGE=en
SUPPORTED_LANGUAGES=en,fr,es,de

# ====================================
# MONITORING & LOGGING
# ====================================
LOG_LEVEL=INFO
LOG_FORMAT=json
METRICS_ENABLED=true
SENTRY_DSN=your-sentry-dsn-here

# ====================================
# SECURITY
# ====================================
SECRET_KEY=your-secret-key-for-internal-encryption
JWT_SECRET_KEY=your-jwt-secret-key
JWT_ALGORITHM=HS256
JWT_EXPIRE_MINUTES=30

# ====================================
# FEATURE FLAGS
# ====================================
ENABLE_EMAIL_DELIVERY=true
ENABLE_SMS_DELIVERY=true
ENABLE_PUSH_DELIVERY=true
ENABLE_WEBHOOKS=true
ENABLE_DELIVERY_RECEIPTS=true
ENABLE_MESSAGE_ATTACHMENTS=true
ENABLE_CONVERSATION_THREADING=true

# ====================================
# DEVELOPMENT & TESTING
# ====================================
# Set to true to enable test mode (doesn't send real notifications)
TEST_MODE=false
# Set to true to log all outgoing communications
LOG_ALL_COMMUNICATIONS=false