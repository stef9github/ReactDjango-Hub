# Medical SaaS Production Environment Template
# Copy this file to .env and fill in actual values
# NEVER commit the actual .env file to version control

# =============================================================================
# ENVIRONMENT CONFIGURATION
# =============================================================================
ENVIRONMENT=production
DEBUG=false
LOG_LEVEL=INFO

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# Use AWS RDS endpoints from Terraform outputs
DATABASE_URL=postgresql://medical_admin:CHANGE_THIS_PASSWORD@medical-saas-rds.cluster-xxx.us-east-1.rds.amazonaws.com:5432/medical_saas?sslmode=require

# Identity Service Database
IDENTITY_DATABASE_URL=postgresql://identity_user:CHANGE_THIS_PASSWORD@medical-saas-rds.cluster-xxx.us-east-1.rds.amazonaws.com:5432/identity_db?sslmode=require

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================
# Use AWS ElastiCache endpoints from Terraform outputs
REDIS_URL=redis://medical-saas-redis.cache.amazonaws.com:6379/0
IDENTITY_REDIS_URL=redis://medical-saas-redis.cache.amazonaws.com:6379/1
BACKEND_REDIS_URL=redis://medical-saas-redis.cache.amazonaws.com:6379/2

# =============================================================================
# SECURITY KEYS (Generate strong keys in production)
# =============================================================================
# Django secret key (50+ characters)
DJANGO_SECRET_KEY=CHANGE_THIS_DJANGO_SECRET_KEY_IN_PRODUCTION_MAKE_IT_VERY_LONG_AND_SECURE

# JWT secret key (32+ characters)
JWT_SECRET_KEY=CHANGE_THIS_JWT_SECRET_KEY_32_CHARS_MIN

# Encryption keys for PHI data (32 bytes each)
PHI_ENCRYPTION_KEY=CHANGE_THIS_PHI_ENCRYPTION_KEY_FOR_HIPAA_COMPLIANCE_32_BYTES
DATA_ENCRYPTION_KEY=CHANGE_THIS_DATA_ENCRYPTION_KEY_FOR_GENERAL_USE_32_BYTES

# =============================================================================
# DOMAIN AND SSL CONFIGURATION
# =============================================================================
DOMAIN_NAME=hub.stephanerichard.com
API_DOMAIN=api.hub.stephanerichard.com
AUTH_DOMAIN=auth.hub.stephanerichard.com

# SSL Certificate paths (managed by cert-manager in K8s)
SSL_CERT_PATH=/etc/ssl/certs/medical-saas.crt
SSL_KEY_PATH=/etc/ssl/private/medical-saas.key

# =============================================================================
# AWS CONFIGURATION
# =============================================================================
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=AKIAXXXXXXXXXXXXX
AWS_SECRET_ACCESS_KEY=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# S3 Configuration for file storage
AWS_S3_BUCKET_NAME=medical-saas-documents-production
AWS_S3_REGION=us-east-1
AWS_S3_CUSTOM_DOMAIN=

# =============================================================================
# EMAIL CONFIGURATION
# =============================================================================
SMTP_HOST=smtp.sendgrid.net
SMTP_PORT=587
SMTP_USER=apikey
SMTP_PASSWORD=SENDGRID_API_KEY_HERE
EMAIL_FROM=noreply@hub.stephanerichard.com
EMAIL_FROM_NAME=Medical SaaS Hub

# =============================================================================
# THIRD-PARTY SERVICES
# =============================================================================
# Stripe for payments
STRIPE_PUBLISHABLE_KEY=pk_live_xxxxxxxxxxxxxxxxxxxxxxxxxxxxx
STRIPE_SECRET_KEY=sk_live_REPLACE_WITH_YOUR_SECRET_KEY
STRIPE_WEBHOOK_SECRET=whsec_xxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# Twilio for SMS/MFA
TWILIO_ACCOUNT_SID=ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
TWILIO_AUTH_TOKEN=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
TWILIO_PHONE_NUMBER=+1234567890

# OAuth providers
GITHUB_CLIENT_ID=Iv1.xxxxxxxxxxxxxxx
GITHUB_CLIENT_SECRET=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

GOOGLE_CLIENT_ID=xxxxxxxxxxxxx.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# =============================================================================
# MONITORING AND LOGGING
# =============================================================================
# Sentry for error tracking
SENTRY_DSN=https://xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx@sentry.io/xxxxxxx
SENTRY_TRACES_SAMPLE_RATE=0.1

# DataDog for monitoring (optional)
DATADOG_API_KEY=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
DATADOG_APP_KEY=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# =============================================================================
# HIPAA COMPLIANCE SETTINGS
# =============================================================================
HIPAA_COMPLIANT=true
AUDIT_LOGGING_ENABLED=true
DATA_RETENTION_YEARS=7
ENCRYPT_AT_REST=true
SECURE_COMMUNICATIONS_ONLY=true

# =============================================================================
# RATE LIMITING AND SECURITY
# =============================================================================
RATE_LIMIT_REQUESTS_PER_MINUTE=100
MAX_LOGIN_ATTEMPTS=5
ACCOUNT_LOCKOUT_DURATION_MINUTES=30
SESSION_TIMEOUT_MINUTES=60
PASSWORD_RESET_TIMEOUT_MINUTES=15

# =============================================================================
# CORS CONFIGURATION
# =============================================================================
CORS_ALLOWED_ORIGINS=https://hub.stephanerichard.com
CORS_ALLOW_CREDENTIALS=true

# =============================================================================
# CELERY CONFIGURATION (for background tasks)
# =============================================================================
CELERY_BROKER_URL=redis://medical-saas-redis.cache.amazonaws.com:6379/3
CELERY_RESULT_BACKEND=redis://medical-saas-redis.cache.amazonaws.com:6379/3

# =============================================================================
# MEDICAL DATA SPECIFIC
# =============================================================================
# HL7 FHIR Configuration
FHIR_BASE_URL=https://api.hub.stephanerichard.com/fhir
FHIR_VERSION=R4

# Medical coding systems
ICD10_VALIDATION_ENABLED=true
SNOMED_CT_ENABLED=true
LOINC_ENABLED=true

# =============================================================================
# BACKUP CONFIGURATION
# =============================================================================
BACKUP_ENABLED=true
BACKUP_FREQUENCY_HOURS=4
BACKUP_RETENTION_DAYS=90
BACKUP_ENCRYPTION_ENABLED=true
BACKUP_S3_BUCKET=medical-saas-backups-production

# =============================================================================
# CONTAINER CONFIGURATION
# =============================================================================
# Identity Service
IDENTITY_SERVICE_PORT=8001
IDENTITY_SERVICE_WORKERS=4

# Backend Service  
BACKEND_SERVICE_PORT=8000
BACKEND_SERVICE_WORKERS=4

# Frontend Service
FRONTEND_SERVICE_PORT=80

# =============================================================================
# KUBERNETES CONFIGURATION
# =============================================================================
KUBERNETES_NAMESPACE=hub-namespace
KUBERNETES_SERVICE_ACCOUNT=medical-saas-service-account

# =============================================================================
# DATABASE MIGRATION AND FIXTURES
# =============================================================================
RUN_MIGRATIONS=true
LOAD_FIXTURES=false
CREATE_SUPERUSER=false

# =============================================================================
# DEVELOPMENT OVERRIDES (Not used in production)
# =============================================================================
# These are here for reference but should remain false/empty in production
DJANGO_DEBUG=false
DISABLE_SSL_REDIRECT=false
ALLOW_INSECURE_CONNECTIONS=false